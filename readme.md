# 轻量级RPC框架

## 实现原理

![实现原理](D:\lys\java\project\L-RPC\实现原理.png)

待实现功能：

服务注册：实现标志需要注册的服务的注解，通过注解找到要提供的服务，注册到注册中心

1. 找到所有有@RpcService注解的类
2. 获取每个类上的注解@RpcService.cls的值
3. 获取cls的值之后，将他的name作为节点的名字，注册到zk中（在rpc节点下创建一个子节点）
4. 同时为每个节点创建子节点   IP：RPCPort
5. 服务自动发现
6. 客户端本地缓存
7. zookeeper服务动态上下线
8. 服务端心跳检测机制
9. 客户端断线重连机制
10. 拆包粘包
11. 序列化方式
12. 协议扩展机制（参照dubbo spi）



客户端：拉取注册中心中的服务到缓存中，并进行监听，注册中心有数据变化则更新缓存。

1. 获取注册数据
2. 创建动态代理
3. Netty客户端



遇到的问题：

数据忘记实现序列化接口，导致服务端接收不到数据

模块划分出现循环依赖